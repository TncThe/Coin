{"version":3,"file":"ngx-highlightjs.js","sources":["ngx-highlightjs/lib/highlight.model.ts","ngx-highlightjs/lib/highlight.service.ts","ngx-highlightjs/lib/highlight.ts","ngx-highlightjs/lib/highlight-children.ts","ngx-highlightjs/lib/highlight.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\nexport const HIGHLIGHT_OPTIONS = new InjectionToken<HighlightOptions>('HIGHLIGHT_OPTIONS');\r\n\r\nexport interface HighlightOptions {\r\n  languages?: Function;\r\n  config?: HighlightConfig;\r\n}\r\n\r\nexport interface HighlightLanguage {\r\n  name: string;\r\n  func: Function;\r\n}\r\n\r\nexport interface HighlightConfig {\r\n  /** tabReplace: a string used to replace TAB characters in indentation. */\r\n  tabReplace?: string;\r\n  /** useBR: a flag to generate <br> tags instead of new-line characters in the output, useful when code is marked up using a non-<pre> container. */\r\n  useBR?: boolean;\r\n  /** classPrefix: a string prefix added before class names in the generated markup, used for backwards compatibility with stylesheets. */\r\n  classPrefix?: string;\r\n  /** languages: an array of language names and aliases restricting auto detection to only these languages. */\r\n  languages?: string[];\r\n}\r\n\r\nexport interface HighlightResult {\r\n  language?: string;\r\n  r?: number;\r\n  second_best?: any;\r\n  top?: any;\r\n  value?: string;\r\n}\r\n","import { Injectable, Inject, Optional } from '@angular/core';\r\nimport { HighlightConfig, HighlightResult, HighlightLanguage, HighlightOptions, HIGHLIGHT_OPTIONS } from './highlight.model';\r\nimport hljs from 'highlight.js/lib/highlight.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HighlightJS {\r\n  constructor(@Optional() @Inject(HIGHLIGHT_OPTIONS) options: HighlightOptions) {\r\n    if (options) {\r\n      // Register HighlightJS languages\r\n      options.languages().map((language: HighlightLanguage) =>\r\n        this.registerLanguage(language.name, language.func)\r\n      );\r\n      if (options.config) {\r\n        // Set global config if present\r\n        this.configure(options.config);\r\n      }\r\n    }\r\n    // Throw an error if no languages were registered.\r\n    if (this.listLanguages().length < 1) {\r\n      throw new Error('[HighlightJS]: No languages were registered!');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Core highlighting function.\r\n   * @param name Accepts a language name, or an alias\r\n   * @param value A string with the code to highlight.\r\n   * @param ignore_illegals When present and evaluates to a true value, forces highlighting to finish\r\n   * even in case of detecting illegal syntax for the language instead of throwing an exception.\r\n   * @param continuation An optional mode stack representing unfinished parsing.\r\n   * When present, the function will restart parsing from this state instead of initializing a new one\r\n   */\r\n  highlight(name: string, value: string, ignore_illegals: boolean, continuation?: any): HighlightResult {\r\n    return hljs.highlight(name, value, ignore_illegals, continuation);\r\n  }\r\n\r\n  /**\r\n   * Highlighting with language detection.\r\n   * @param value Accepts a string with the code to highlight\r\n   * @param languageSubset An optional array of language names and aliases restricting detection to only those languages.\r\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\r\n   */\r\n  highlightAuto(value: string, languageSubset: string[]): HighlightResult {\r\n    return hljs.highlightAuto(value, languageSubset);\r\n  }\r\n\r\n  /**\r\n   * Post-processing of the highlighted markup.\r\n   * Currently consists of replacing indentation TAB characters and using <br> tags instead of new-line characters.\r\n   * Options are set globally with configure.\r\n   * @param value Accepts a string with the highlighted markup\r\n   */\r\n  fixMarkup(value: string): string {\r\n    return hljs.fixMarkup(value);\r\n  }\r\n\r\n  /**\r\n   * Applies highlighting to a DOM node containing code.\r\n   * The function uses language detection by default but you can specify the language in the class attribute of the DOM node.\r\n   * See the class reference for all available language names and aliases.\r\n   * @param block The element to apply highlight on.\r\n   */\r\n  highlightBlock(block: HTMLElement) {\r\n    hljs.highlightBlock(block);\r\n  }\r\n\r\n  /**\r\n   * Configures global options:\r\n   * @param config\r\n   */\r\n  configure(config: HighlightConfig) {\r\n    hljs.configure(config);\r\n  }\r\n\r\n  /**\r\n   * Applies highlighting to all <pre><code>..</code></pre> blocks on a page.\r\n   */\r\n  initHighlighting() {\r\n    hljs.initHighlighting();\r\n  }\r\n\r\n  /**\r\n   * Adds new language to the library under the specified name. Used mostly internally.\r\n   * @param name A string with the name of the language being registered\r\n   * @param language A function that returns an object which represents the language definition.\r\n   * The function is passed the hljs object to be able to use common regular expressions defined within it.\r\n   */\r\n  registerLanguage(name: string, language: Function) {\r\n    hljs.registerLanguage(name, language);\r\n  }\r\n\r\n  /**\r\n   * @return The languages names list.\r\n   */\r\n  listLanguages(): string[] {\r\n    return hljs.listLanguages();\r\n  }\r\n\r\n  /**\r\n   * Looks up a language by name or alias.\r\n   * @param name Language name\r\n   * @return The language object if found, undefined otherwise.\r\n   */\r\n  getLanguage(name: string): any {\r\n    return hljs.getLanguage(name);\r\n  }\r\n}\r\n","import { Directive, Input, Output, OnChanges, SimpleChanges, EventEmitter, NgZone } from '@angular/core';\r\nimport { HighlightJS } from './highlight.service';\r\nimport { HighlightResult } from './highlight.model';\r\n\r\n@Directive({\r\n  host: {\r\n    '[class.hljs]': 'true',\r\n    '[innerHTML]': 'highlightedCode'\r\n  },\r\n  selector: '[highlight]'\r\n})\r\nexport class Highlight implements OnChanges {\r\n\r\n  /** Highlighted Code */\r\n  highlightedCode: string;\r\n\r\n  /** An optional array of language names and aliases restricting detection to only those languages.\r\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\r\n   */\r\n  @Input() languages: string[];\r\n\r\n  /** Highlight code input */\r\n  @Input('highlight') code;\r\n\r\n  /** Stream that emits when code string is highlighted */\r\n  @Output() highlighted = new EventEmitter<HighlightResult>();\r\n\r\n  constructor(private _hljs: HighlightJS, private _zone: NgZone) {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (\r\n      changes['code'] &&\r\n      changes['code'].currentValue !== changes['code'].previousValue\r\n    ) {\r\n      this.highlightElement(this.code, this.languages);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Highlighting with language detection and fix markup.\r\n   * @param value Accepts a string with the code to highlight\r\n   * @param languageSubset An optional array of language names and aliases restricting detection to only those languages.\r\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\r\n   */\r\n  highlightElement(code: string, languages?: string[]) {\r\n    this._zone.runOutsideAngular(() => {\r\n      const res = this._hljs.highlightAuto(code, languages);\r\n      this.highlightedCode = res.value;\r\n      this.highlighted.emit(res);\r\n    });\r\n  }\r\n}\r\n","import { Directive, Input, Inject, OnInit, OnDestroy, Renderer2, ElementRef, NgZone, PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { HighlightJS } from './highlight.service';\r\n\r\n@Directive({\r\n  selector: '[highlightChildren]'\r\n})\r\nexport class HighlightChildren implements OnInit, OnDestroy {\r\n\r\n  @Input('highlightChildren') selector: string;\r\n  private _observer: any;\r\n\r\n  constructor(private _zone: NgZone,\r\n              private _el: ElementRef,\r\n              private _hljs: HighlightJS,\r\n              private _renderer: Renderer2,\r\n              @Inject(PLATFORM_ID) private _platformId: Object) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (isPlatformBrowser(this._platformId)) {\r\n      // Subscribe to host element content changes\r\n      this._zone.runOutsideAngular(() => {\r\n        this._observer = new MutationObserver(() =>\r\n          this.highlightChildren(this.selector)\r\n        );\r\n\r\n        this._observer.observe(this._el.nativeElement, {\r\n          childList: true\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Highlight a code block\r\n   * @param el Code block element\r\n   */\r\n  highlightElement(el: HTMLElement) {\r\n    this._hljs.highlightBlock(el);\r\n    this._renderer.addClass(el, 'hljs');\r\n  }\r\n\r\n  /**\r\n   * Highlight multiple code blocks\r\n   * @param selector elements selector\r\n   */\r\n  highlightChildren(selector: string) {\r\n    const elementsToHighlight = this._el.nativeElement.querySelectorAll(selector || 'pre code');\r\n\r\n    elementsToHighlight.forEach((element: HTMLElement) => {\r\n      // Highlight element when text is present\r\n      if (\r\n        element.childNodes.length === 1 &&\r\n        element.childNodes[0].nodeName === '#text'\r\n      ) {\r\n        this.highlightElement(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._observer) {\r\n      this._observer.disconnect();\r\n    }\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { Highlight } from './highlight';\r\nimport { HighlightChildren } from './highlight-children';\r\nimport { HighlightOptions, HIGHLIGHT_OPTIONS } from './highlight.model';\r\n\r\n@NgModule({\r\n  declarations: [Highlight, HighlightChildren],\r\n  exports: [Highlight, HighlightChildren]\r\n})\r\nexport class HighlightModule {\r\n  static forRoot(options: HighlightOptions): ModuleWithProviders {\r\n    return {\r\n      ngModule: HighlightModule,\r\n      providers: [\r\n        {provide: HIGHLIGHT_OPTIONS, useValue: options}\r\n      ]\r\n    };\r\n  }\r\n}\r\n"]}